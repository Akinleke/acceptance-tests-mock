# **Test Automation Framework**

## **Usage when installed as a package**

When using this as an npm package, to install:

```
npm install @covea/auto-test-node
```

### Example of using as a package in javascript

```javascript
import { request } from "@covea/auto-test-node";

const resource = "localhost:3000/";
const body = { property: "value" };
const header = { "Content-type": "application/json; charset=UTF-8" };
const method = "GET";

const response = async (method, resource, header, body) => {
  return await request(method, resource, header, data);
};
```

## **Folder Structure**

The src folder will have the common modules which will help in the test automation projects.

### Test Framework - common modules

```
├── _node_modules
|     ├── .bin...
├── _src
|     ├── _config
|     ├── _utils
|     └── index.ts
├── .gitignore
├── .gitlab-ci.yml
├── .npmrc
├── package.json
├── tsconfig.json
```

- `.gitignore`

  Add the files in .gitignore that is not needed for the repository.
  Eg.

  ```
  # package directories
  node_modules

  # tsc build
  build

  # report from cucumber-reporter-html
  test/report/*

  # environment variables
  .env
  ```

- `.gitlab-ci.yml` : gitlab pipeline which currently have 3 stages (versioning, build and publish to nexus)

- `.npmrc` : npmrc file that store the covea registry for installing from nexus and pubishing to nexus.

## **Environment Variables**

To add an environment variable

- Create an '.env' file
- in the file add
  Example
  In `.env`
  ```
  TESTRAIL_USERNAME=ExampleUsername
  TESTRAIL_PASSWORD=ExamplePassword
  ```
  In `.ts` files
  ```javascript
  const username = process.env.TESRAIL_USERNAME || "default username";
  ```

[1]: https://cucumber.io/docs/cucumber/api/#hooks "Cucumber.io"
[2]: https://github.com/cucumber/cucumber-js/blob/master/docs/support_files/hooks.md "Github repo for cucumber.js"
[3]: https://cucumber.io/docs/guides/ "Cucumber.io"
[4]: https://github.com/cucumber/cucumber-js/blob/master/README.md "Github repo for cucumber.js"
[5]: https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts "All the rules for tslint:recommended"
